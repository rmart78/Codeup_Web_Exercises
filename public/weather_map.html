<!DOCTYPE html>
<html>
<head>
	<title>Weather Map</title>
	<link rel="stylesheet" type="text/css" href="/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="/css/weather_map.css">

	<style type="text/css">
/*	.container {
		border: solid black 1px;
	}
	.row {
		border: solid blue 1px;
	}
	.column {
		border: solid green 1px;
	}*/
	</style>
</head>
<body onload="weatherLoad()">
	<div class="container">
		<div class="row">
			<div id="header" class="column one-third offset-one-third">Weather Application</div>
		</div>
		<div class="row">
			<div id="city" class="column one-third offset-one-third">San Antonio</div>
		</div>
		<div class="row">
			<div class="column one-third">
				<div class="row">
					<div class="column five-sixth offset-one-twelth">Today</div>
				</div>
				<div class="row">
					<div class="output temp column five-sixth offset-one-twelth">Weather Max</div>
					
				</div>
				<div class="row">
					<div class="output column five-sixth offset-one-twelth"><img class="icon"  src="" alt="weather_conditions"></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Conditions: <span class="conditions"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Humidity: <span class="humidity"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Wind: <span class="wind"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Pressure: <span class="pressure"></span></div>
				</div>
			</div>
			<div class="column one-third">
				<div class="row">
					<div class="column five-sixth offset-one-twelth">Tomorrow</div>
				</div>
				<div class="row">
					<div class="output temp column five-sixth offset-one-twelth">Weather Max</div>
					
				</div>
				<div class="row">
					<div class="output column five-sixth offset-one-twelth"><img class="icon" src="" alt="weather_conditions"></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Conditions: <span class="conditions"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Humidity: <span class="humidity"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Wind: <span class="wind"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Pressure: <span class="pressure"></span></div>
				</div>
				</div>
			<div class="column one-third">
				<div class="row">
					<div id="date" class="column five-sixth offset-one-twelth"></div>
				</div>
				<div class="row">
					<div class="output temp column five-sixth offset-one-twelth">Weather Max</div>
					
				</div>
				<div class="row">
					<div class="output column five-sixth offset-one-twelth"><img class="icon" src="" alt="weather_conditions"></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Conditions: <span class="conditions"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Humidity: <span class="humidity"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Wind: <span class="wind"></span></div>
				</div>
				<div class="row">
					<div class="output descriptor column five-sixth offset-one-twelth">Pressure: <span class="pressure"></span></div>
				</div>
			</div>
			</div>
		</div>
	</div>
	<div id="form_container">
	<form id="form">
		Latitude:<input id="latitude" type="text" name="latitude">
		Longitude:<input id="longitude" type="text" name="longitude">
	</form>
	<button id="get_weather">Get Weather</button>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<script type="text/javascript">

		var lat2 = 29.423017;

		var lon2 = -98.48527;

		function weatherLoad() {

		$.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
    		APPID: "6804c20447d064d378b94754a006da13",
    		lat:    lat2,
    		lon:   lon2,
    		cnt: 3,
    		units: "imperial"
		}).done(function(data) {

			console.log(data);

    		var d = new Date();
			var weekday = new Array(7);
			weekday[0]=  "Sunday";
			weekday[1] = "Monday";
			weekday[2] = "Tuesday";
			weekday[3] = "Wednesday";
			weekday[4] = "Thursday";
			weekday[5] = "Friday";
			weekday[6] = "Saturday";

			var n = weekday[(d.getDay())+2];

			var counter1 = 0;
	     	var counter2 = 0;
	     	var counter3 = 0;
	     	var counter4 = 0;
	     	var counter5 = 0;
	     	var counter6 = 0;
	     	var counter7 = 0;
     		$('#date').html(n);
     		$('#city').html(data.city.name);
        	$('.temp').each(function() {
    			$(this).html(data.list[counter2].temp.max + '°' + '/' + ' ' + data.list[counter2].temp.min + '°');
        		counter2 ++;
        	});
        	$('.conditions').each(function() {
        		$(this).html(data.list[counter3].weather[0].description);
        		counter3 ++;
        	});
        	$('.humidity').each(function() {
        		$(this).html(data.list[counter4].humidity);
        		counter4 ++;
        	});
        	$('.wind').each(function() {
        		$(this).html(data.list[counter5].speed);
        		counter5 ++;
        	});
        	$('.pressure').each(function() {
        		$(this).html(data.list[counter6].pressure);
        		counter6 ++;
        	});
        	$('.icon').each(function() {
        		$(this).attr('src', 'http://openweathermap.org/img/w/' + data.list[counter7].weather[0].icon + '.png');
        		counter7 ++;
        	});
		});

		}

		 $('#get_weather').click(function(){
		 		lat2 = $('#latitude').val();
		 		lon2 = $('#longitude').val();
                weatherLoad();
                console.log($('#latitude').val());
                console.log($('#longitude').val());
                console.log(lat2);
                console.log(lon2);
                console.log('hey you');
    	});

	</script>

</body>
</html>